<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Renderizado</title>
    <style>
        h1, h2, div, p {
            text-align: center;
            margin-block: 0;
        }

        a {
            font-size: 3rem;
        }
        p {
            font-weight: 700;
            font-size: 4rem;
        }

        li {
            list-style: none;
        }

        .character-list img {
            display: block;
        }

        .py-20 {
            padding-top: 20px;
            padding-bottom: 20px;
        }

        .text-center {
            text-align: center;
        }

        .mx-auto {
            margin-left: auto;
            margin-right: auto;
        }
    </style>
</head>

<body>
    <div><a href="/">🏠</a></div>
    <h1>Renderizado</h1>
    <h2>Ejemplo 3: CSR Javascript</h2>
    <div id="character-list">
        <!-- Aquí se cargará la lista de personajes -->
      </div>
      
      <div id="character-details" class="hidden">
        <!-- Aquí se mostrará el detalle de un personaje seleccionado -->
      </div>

    <script>
        const apiURL = "https://rickandmortyapi.com/api/character";
const characterListDiv = document.getElementById("character-list");
const characterDetailsDiv = document.getElementById("character-details");

// Función para obtener y mostrar la lista de personajes
async function fetchCharacters() {
  try {
    const response = await fetch(apiURL);
    const data = await response.json();
    
    data.results.forEach(character => {
      const characterCard = document.createElement("div");
      characterCard.classList.add("character-card");
      characterCard.innerHTML = `
        <img src="${character.image}" alt="${character.name}" width="100" />
        <p>${character.name}</p>
      `;
      characterCard.addEventListener("click", () => fetchCharacterDetails(character.id));
      characterListDiv.appendChild(characterCard);
    });
  } catch (error) {
    console.error("Error fetching characters:", error);
  }
}

// Función para obtener y mostrar los detalles de un personaje específico
async function fetchCharacterDetails(characterId) {
  try {
    const response = await fetch(`${apiURL}/${characterId}`);
    const character = await response.json();

    characterDetailsDiv.classList.remove("hidden");
    characterDetailsDiv.innerHTML = `
      <h2>${character.name}</h2>
      <img src="${character.image}" alt="${character.name}" width="150" />
      <p><strong>Status:</strong> ${character.status}</p>
      <p><strong>Species:</strong> ${character.species}</p>
      <p><strong>Gender:</strong> ${character.gender}</p>
      <p><strong>Origin:</strong> ${character.origin.name}</p>
      <p><strong>Location:</strong> ${character.location.name}</p>
    `;
  } catch (error) {
    console.error("Error fetching character details:", error);
  }
}

// Llama a la función para cargar los personajes al inicio
fetchCharacters();
    </script>
</body>

</html>